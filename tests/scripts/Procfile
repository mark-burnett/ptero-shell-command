web: CELERY_BROKER_URL=$PTERO_SHELL_COMMAND_CELERY_BROKER_URL CELERY_RESULT_BACKEND=$PTERO_SHELL_COMMAND_CELERY_RESULT_BACKEND tests/scripts/sigterm_wrapper coverage run ptero_shell_command/api/wsgi.py --port $PTERO_SHELL_COMMAND_PORT --host $PTERO_SHELL_COMMAND_HOST
fork: CELERYD_PREFETCH_MULTIPLIER=1 CELERY_BROKER_URL=$PTERO_SHELL_COMMAND_CELERY_BROKER_URL CELERY_RESULT_BACKEND=$PTERO_SHELL_COMMAND_CELERY_RESULT_BACKEND coverage run $(which celery) worker -n shell_worker.%h.$PORT --pool=eventlet --concurrency 1 -A ptero_shell_command.implementation.celery_app -Q fork
http: CELERY_BROKER_URL=$PTERO_SHELL_COMMAND_CELERY_BROKER_URL CELERY_RESULT_BACKEND=$PTERO_SHELL_COMMAND_CELERY_RESULT_BACKEND coverage run $(which celery) worker -n shell_worker.%h.$PORT --pool=eventlet --concurrency 1 -A ptero_shell_command.implementation.celery_app -Q http
rabbit: RABBITMQ_LOG_BASE=$PWD/$PTERO_SHELL_COMMAND_RABBITMQ_LOG_BASE RABBITMQ_MNESIA_BASE=$PWD/$PTERO_SHELL_COMMAND_RABBITMQ_MNESIA_BASE RABBITMQ_NODENAME=$PTERO_SHELL_COMMAND_RABBITMQ_NODENAME RABBITMQ_NODE_PORT=$PTERO_SHELL_COMMAND_RABBITMQ_NODE_PORT rabbitmq-server
redis: redis-server --port $PTERO_SHELL_COMMAND_REDIS_PORT
